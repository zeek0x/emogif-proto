# emogif
MP4 から Slack 向けの gif を生成するツール

## 依存
- nodejs, npm
- ffmpeg

## インストール
下記実行前に環境に合わせて`依存`のツール群をインストールしてください

```
$ git clone https://github.com/233k/emogif.git
$ cd emogif
$ npm i .
$ npm start
# アプリ起動
```

## 使い方
アプリを起動すると open ページが開きます。URI を入力後 `Enter` を押下してください。URI には  `https://`, `http://`, `file://` などの URI スキームが使用できます。

open ページでの `Enter` 押下後にはindex ページが開きます。 `crop` を行う際には `FPS`, `Scale`, `Start`, `End` を調整します。また、切り取りたい箇所に対して、赤いオーバーレイの四角の位置と大きさを合わせる必要があります。（Time は、動画再生時間のインジケータなので `crop` には関係しません。動画はクリックすると再生・停止できます。再生・停止時には Time へ再生時間が反映されます。そのときの Time に `Start`, `End` を合わせることで切り取り時間を調整すると便利かもしれません。）

赤いオーバーレイは、ドラックすることで移動することができます。また、オーバーレイの右下の小さい四角にカーソルを合わせて左右にドラッグすることで大きさを調整できます。

上記で指定した要素が調整し終わったら、右クリックをして `crop` を選択します。

`crop` が完了すると emogif のルートディレクトリに `output.gif` が生成されます。

生成されたファイルサイズが `128KB` を超えている場合は警告が出ます。そのファイルをそのまま Slack に登録することはできません。警告が出なくなるまで `FPS`, `Scale`, `Start`, `End` を調整してください。

（ファイルサイズが `128KB` 以下でも登録に失敗することがあります。その際には、ファイルサイズを少し小さくしてみてください。）

これらが完了したら、あとは Slack におもいおもいの Emoji を登録してください！ :tada:
